<%= form_with(model: custom_attribute_definition, url: url, data: {turbo: false}, id: 'formId', class: "flex flex-col gap-5") do |form| %>
  <% if custom_attribute_definition.errors.any? %>
    <div>
      <ul>
        <% custom_attribute_definition.errors.each do |error| %>
          <li class="typography-body-s-lh150 text-auxiliary-palette-red"><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class= "grid sm:grid-cols-3 gap-4">
    <div class="flex flex-col gap-1">
      <%= form.label :attribute_model, class: "typography-text-m-lh150 text-dark-gray-palette-p1" %>
      <%= form.select(:attribute_model, [ ['Contato', 'contact_attribute'], ['Negócio', 'deal_attribute'], ['Produto', 'product_attribute']], {}, { class: 'form-input'  } ) %>
    </div>
    <div class="flex flex-col gap-1" data-controller="select-custom-attributes">
      <%= form.label :attribute_type_field, class: "typography-text-m-lh150 text-dark-gray-palette-p1" %>
      <%= form.select(:attribute_type_field,
                [["Texto", "text_field"], "Campo livre para escrita",
                 ["Moeda", "number_field"], "R$",
                 ["Data", "date_field"], "DD/MM/AAAA",
                 ["Select", "select_custom"], "Seleção única"],
                {:disabled => ["Campo livre para escrita", "R$", "Seleção única", "DD/MM/AAAA"]},
                { class: 'form-input', "data-target": "select-custom-attributes.select" } ) %>
    </div>
    <div class="flex flex-col gap-1 hidden" id="options-select-custom">
      <%= form.label :attribute_options_select, class: "typography-text-m-lh150 text-dark-gray-palette-p1" %>
      <%= form.text_field :attribute_options_select, placeholder: "Separe por virgula", class: 'form-input'%>
    </div>
    <div class="flex flex-col gap-1">
      <%= form.label :attribute_display_name, class: "typography-text-m-lh150 text-dark-gray-palette-p1" %>
      <%= form.text_field :attribute_display_name, placeholder: "Campo 1", class: 'form-input' %>
    </div>
    <div class="flex flex-col gap-1">
      <%= form.label :attribute_key, class: "typography-text-m-lh150 text-dark-gray-palette-p1" %>
      <%= form.text_field :attribute_key, placeholder: "cpf", class: 'form-input' %>
    </div>
  </div>
  <div class="flex flex-col gap-1">
    <%= form.label :attribute_description, class: "typography-text-m-lh150 text-dark-gray-palette-p1" %>
    <%= form.text_area :attribute_description, placeholder: "Campo para .....", class: 'form-input' %>
  </div>
  <%= form.submit class: 'btn-primary self-end cursor-pointer' %>
<% end %>
